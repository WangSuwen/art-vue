webpackJsonp([37],{"1Ai6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("mvHQ"),a=n.n(i),l=n("Ze8w"),o={_id:"",menuName:"",menuValue:""},u={data:function(){return{editType:"add",dialogFormVisible:!1,editingMenu:{_id:"",menuName:"",menuValue:""},menus:[]}},created:function(){var e=this;l.a.getMenus().then(function(t){e.menus=t}).catch(function(e){console.error(e)})},methods:{handleEdit:function(e){this.editType="update",this.dialogFormVisible=!0,this.editingMenu=this.menus.find(function(t){return t._id===e})},handleDelete:function(e){l.a.delMenus(e).then(function(e){console.log(e)}).catch(function(e){console.error(e)})},addMenu:function(){this.editType="add",this.editingMenu=JSON.parse(a()(o)),this.dialogFormVisible=!0},menuOption:function(){var e=this;("add"===this.editType?l.a.addMenus:l.a.updateMenu)(this.editingMenu).then(function(t){if(e.dialogFormVisible=!1,"add"===e.editType)e.menus.push(t);else for(var n=0;n<e.menus.length;n++)if(e.menus[n]._id===e.editingMenu._id){e.menus[n].menuName=e.editingMenu.menuName,e.menus[n].menuValue=e.editingMenu.menuValue;break}}).catch(function(e){console.error(e)})}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{staticClass:"btn-group"},[n("el-button",{attrs:{type:"primary"},on:{click:e.addMenu}},[e._v("添加菜单项")])],1),e._v(" "),n("el-table",{staticStyle:{width:"90%","margin-left":"15px","margin-top":"15px"},attrs:{data:e.menus,stripe:!0,border:!0,"empty-text":"暂无数据"}},[n("el-table-column",{attrs:{label:"菜单名称",prop:"menuName"}}),e._v(" "),n("el-table-column",{attrs:{label:"菜单值",prop:"menuValue"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.handleEdit(t.row._id)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleDelete(t.row._id)}}},[e._v("删除")])]}}])}),e._v(" "),n("el-table-column",{attrs:{type:"expand",width:"80",label:"查看详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"ID"}},[n("span",[e._v(e._s(t.row._id))])]),e._v(" "),n("el-form-item",{attrs:{label:"菜单名称"}},[n("span",[e._v(e._s(t.row.menuName))])]),e._v(" "),n("el-form-item",{attrs:{label:"菜单路径"}},[n("span",[e._v(e._s(t.row.menuValue))])]),e._v(" "),n("el-form-item",{attrs:{label:"创建时间"}},[n("span",[e._v(e._s(t.row.createdAt))])]),e._v(" "),n("el-form-item",{attrs:{label:"最近一次修改"}},[n("span",[e._v(e._s(t.row.updatedAt))])])],1)]}}])})],1),e._v(" "),n("el-dialog",{attrs:{title:"add"===e.editType?"添加菜单":"编辑菜单",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{attrs:{model:e.editingMenu,inline:!0}},[n("el-form-item",{attrs:{label:"菜单名称","label-width":"80px"}},[n("el-input",{attrs:{autoComplete:"off"},model:{value:e.editingMenu.menuName,callback:function(t){e.$set(e.editingMenu,"menuName",t)},expression:"editingMenu.menuName"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"菜单路径","label-width":"80px"}},[n("el-input",{attrs:{autoComplete:"off"},model:{value:e.editingMenu.menuValue,callback:function(t){e.$set(e.editingMenu,"menuValue",t)},expression:"editingMenu.menuValue"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.menuOption}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=n("VU/8")(u,s,!1,function(e){n("xAzO")},"data-v-43246576",null);t.default=r.exports},IHxs:function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.demo-table-expand[data-v-43246576] {\n  font-size: 0;\n}\n.demo-table-expand label[data-v-43246576] {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item[data-v-43246576] {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n.btn-group[data-v-43246576] {\n  margin: 10px 15px;\n}\n.el-input[data-v-43246576] {\n  width: 150px;\n}\n",""])},xAzO:function(e,t,n){var i=n("IHxs");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("0053909e",i,!0)}});