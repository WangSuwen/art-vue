webpackJsonp([27],{"/LA5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("mvHQ"),a=n.n(i),s=n("vMJZ"),r={_id:"",name:"",username:"",password:""},l={data:function(){return{editType:"add",dialogFormVisible:!1,editingUser:{_id:"",name:"",username:"",password:""},users:[]}},created:function(){var e=this;Object(s.a)().then(function(t){e.users=t.list}).catch(function(e){console.error(e)})},methods:{handleEdit:function(e){this.editType="update",this.dialogFormVisible=!0,this.editingUser=this.users.find(function(t){return t._id===e})},handleDelete:function(e){delMenus(e).then(function(e){console.log(e)}).catch(function(e){console.error(e)})},addMenu:function(){this.editType="add",this.editingUser=JSON.parse(a()(r)),this.dialogFormVisible=!0},userOption:function(){var e=this;("add"===this.editType?addMenus:updateMenu)(this.editingUser).then(function(t){if(e.dialogFormVisible=!1,"add"===e.editType)e.users.push(t);else for(var n=0;n<e.users.length;n++)if(e.users[n]._id===e.editingUser._id){e.users[n].name=e.editingUser.name,e.users[n].username=e.editingUser.username,e.users[n].password=e.editingUser.password;break}}).catch(function(e){console.error(e)})}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{staticClass:"btn-group"},[n("el-button",{attrs:{type:"primary"},on:{click:e.addMenu}},[e._v("添加用户")])],1),e._v(" "),n("el-table",{staticStyle:{width:"90%","margin-left":"15px","margin-top":"15px"},attrs:{data:e.users,stripe:!0,border:!0,"empty-text":"暂无数据"}},[n("el-table-column",{attrs:{label:"姓名",prop:"name"}}),e._v(" "),n("el-table-column",{attrs:{label:"用户名",prop:"username"}}),e._v(" "),n("el-table-column",{attrs:{label:"密码",prop:"password"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.handleEdit(t.row._id)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleDelete(t.row._id)}}},[e._v("删除")])]}}])}),e._v(" "),n("el-table-column",{attrs:{type:"expand",width:"80",label:"查看详情"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"ID"}},[n("span",[e._v(e._s(t.row._id))])]),e._v(" "),n("el-form-item",{attrs:{label:"姓名"}},[n("span",[e._v(e._s(t.row.name))])]),e._v(" "),n("el-form-item",{attrs:{label:"用户名"}},[n("span",[e._v(e._s(t.row.username))])]),e._v(" "),n("el-form-item",{attrs:{label:"密码"}},[n("span",[e._v(e._s(t.row.password))])]),e._v(" "),n("el-form-item",{attrs:{label:"创建时间"}},[n("span",[e._v(e._s(t.row.createdAt))])]),e._v(" "),n("el-form-item",{attrs:{label:"最近一次修改"}},[n("span",[e._v(e._s(t.row.updatedAt))])])],1)]}}])})],1),e._v(" "),n("el-dialog",{attrs:{title:"add"===e.editType?"添加用户":"编辑用户",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{attrs:{model:e.editingUser,inline:!0}},[n("el-form-item",{attrs:{label:"姓名","label-width":"80px"}},[n("el-input",{attrs:{autoComplete:"off"},model:{value:e.editingUser.name,callback:function(t){e.$set(e.editingUser,"name",t)},expression:"editingUser.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"用户名","label-width":"80px"}},[n("el-input",{attrs:{autoComplete:"off"},model:{value:e.editingUser.username,callback:function(t){e.$set(e.editingUser,"username",t)},expression:"editingUser.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码","label-width":"80px"}},[n("el-input",{attrs:{autoComplete:"off"},model:{value:e.editingUser.password,callback:function(t){e.$set(e.editingUser,"password",t)},expression:"editingUser.password"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.userOption}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var d=n("VU/8")(l,o,!1,function(e){n("99Zi")},"data-v-3cbb3c00",null);t.default=d.exports},"99Zi":function(e,t,n){var i=n("aiI/");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("6f8e0c3d",i,!0)},"aiI/":function(e,t,n){(e.exports=n("FZ+f")(!1)).push([e.i,"\n.demo-table-expand[data-v-3cbb3c00] {\n  font-size: 0;\n}\n.demo-table-expand label[data-v-3cbb3c00] {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item[data-v-3cbb3c00] {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n.btn-group[data-v-3cbb3c00] {\n  margin: 10px 15px;\n}\n.el-input[data-v-3cbb3c00] {\n  width: 150px;\n}\n",""])},vMJZ:function(e,t,n){"use strict";t.a=function(e,t){return Object(i.a)({url:"users",method:"get",params:{limit:e,currentPage:t}})};var i=n("vLgD")}});