webpackJsonp([29],{"2UVV":function(t,e,i){(t.exports=i("FZ+f")(!1)).push([t.i,"\n.demo-table-expand[data-v-f46d5834] {\n  font-size: 0;\n}\n.demo-table-expand label[data-v-f46d5834] {\n  width: 90px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item[data-v-f46d5834] {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n.btn-group[data-v-f46d5834] {\n  margin: 10px 15px;\n}\n.el-input[data-v-f46d5834] {\n  width: 150px;\n}\n",""])},ES5Z:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("mvHQ"),n=i.n(a),o=i("vLgD");function l(t){var e=t.apiName,i=t.apiPath,a=t.apiResponse;return Object(o.a)({url:"shounaer/managementAddApi",method:"post",data:{params:{apiName:e,apiPath:i,apiResponse:a}}})}function p(t){return Object(o.a)({url:"shounaer/managementUpdateApi",method:"post",data:{params:t}})}var s={_id:"",apiName:"",apiPath:""},r={data:function(){return{editType:"add",dialogFormVisible:!1,editingApi:{_id:"",apiName:"",apiPath:"",apiResponse:""},apis:[]}},created:function(){var t,e,i=this;Object(o.a)({url:"shounaer/managementApiList",method:"get",params:{limit:t,currentPage:e}}).then(function(t){i.apis=t.list}).catch(function(t){console.error(t)})},methods:{handleEdit:function(t){this.editType="update",this.dialogFormVisible=!0,this.editingApi=this.apis.find(function(e){return e._id===t})},handleDelete:function(t){delMenus(t).then(function(t){console.log(t)}).catch(function(t){console.error(t)})},addApiDialog:function(){this.editType="add",this.editingApi=JSON.parse(n()(s)),this.dialogFormVisible=!0},apiOption:function(){var t=this;("add"===this.editType?l:p)(this.editingApi).then(function(e){if(t.dialogFormVisible=!1,"add"===t.editType)t.apis.push(e);else for(var i=0;i<t.apis.length;i++)if(t.apis[i]._id===t.editingApi._id){t.apis[i].apiName=t.editingApi.apiName,t.apis[i].apiPath=t.editingApi.apiPath,t.apis[i].apiResponse=t.editingApi.apiResponse,t.apis[i].updatedAt=e.updatedAt;break}}).catch(function(t){console.error(t)})}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-row",{staticClass:"btn-group"},[i("el-button",{attrs:{type:"primary"},on:{click:t.addApiDialog}},[t._v("添加API")])],1),t._v(" "),i("el-table",{staticStyle:{width:"90%","margin-left":"15px","margin-top":"15px"},attrs:{data:t.apis,stripe:!0,border:!0,"empty-text":"暂无数据"}},[i("el-table-column",{attrs:{label:"接口名称",prop:"apiName"}}),t._v(" "),i("el-table-column",{attrs:{label:"API-path",prop:"apiPath"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){t.handleEdit(e.row._id)}}},[t._v("编辑")]),t._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){t.handleDelete(e.row._id)}}},[t._v("删除")])]}}])}),t._v(" "),i("el-table-column",{attrs:{type:"expand",width:"80",label:"查看详情"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"ID"}},[i("span",[t._v(t._s(e.row._id))])]),t._v(" "),i("el-form-item",{attrs:{label:"接口名称"}},[i("span",[t._v(t._s(e.row.apiName))])]),t._v(" "),i("el-form-item",{attrs:{label:"API-path"}},[i("span",[t._v(t._s(e.row.apiPath))])]),t._v(" "),i("el-form-item",{attrs:{label:"创建时间"}},[i("span",[t._v(t._s(e.row.createdAt))])]),t._v(" "),i("el-form-item",{attrs:{label:"最近一次修改"}},[i("span",[t._v(t._s(e.row.updatedAt||"暂无修改"))])]),t._v(" "),i("el-form-item",{attrs:{label:"返回值"}},[i("el-input",{attrs:{type:"textarea",rows:3,resize:"both",autoComplete:"off"},model:{value:e.row.apiResponse,callback:function(i){t.$set(e.row,"apiResponse",i)},expression:"props.row.apiResponse"}})],1)],1)]}}])})],1),t._v(" "),i("el-dialog",{attrs:{title:"add"===t.editType?"添加接口":"编辑接口",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{attrs:{model:t.editingApi,inline:!0}},[i("el-form-item",{attrs:{label:"接口名称","label-width":"80px"}},[i("el-input",{attrs:{autoComplete:"off"},model:{value:t.editingApi.apiName,callback:function(e){t.$set(t.editingApi,"apiName",e)},expression:"editingApi.apiName"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"API-path","label-width":"80px"}},[i("el-input",{attrs:{autoComplete:"off"},model:{value:t.editingApi.apiPath,callback:function(e){t.$set(t.editingApi,"apiPath",e)},expression:"editingApi.apiPath"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"返回值","label-width":"80px"}},[i("el-input",{attrs:{type:"textarea",rows:3,resize:"both",autoComplete:"off"},model:{value:t.editingApi.apiResponse,callback:function(e){t.$set(t.editingApi,"apiResponse",e)},expression:"editingApi.apiResponse"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.apiOption}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var u=i("VU/8")(r,d,!1,function(t){i("ILuy")},"data-v-f46d5834",null);e.default=u.exports},ILuy:function(t,e,i){var a=i("2UVV");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("70c08d5d",a,!0)}});